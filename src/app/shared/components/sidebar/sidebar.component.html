<aside class="sidebar" [class.closed]="!isOpen">
  <div class="sidebar-content">
    <nav class="nav-menu">
      <div *ngFor="let item of menuItems" class="nav-item">
        <div class="nav-item-wrapper">
          <a 
            [routerLink]="item.route"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            class="nav-link"
          >
            <span class="nav-icon">{{ item.icon }}</span>
            <span class="nav-label" *ngIf="isOpen">{{ item.label }}</span>
          </a>

          <button 
            *ngIf="item.children && isOpen"
            class="expand-btn"
            (click)="toggleExpand(item.label)"
            [class.expanded]="isExpanded(item.label)"
          >
            ▼
          </button>
        </div>

        <div 
          class="nav-children"
          *ngIf="item.children && isExpanded(item.label) && isOpen"
        >
          <a 
            *ngFor="let child of item.children"
            [routerLink]="child.route"
            routerLinkActive="active"
            class="nav-child-link"
          >
            <span class="nav-icon">{{ child.icon }}</span>
            <span class="nav-label">{{ child.label }}</span>
          </a>
        </div>
      </div>
    </nav>
  </div>

  <div class="sidebar-footer" *ngIf="isOpen">
    <p>© 2026 ANGULAR_DEFINITIVO</p>
  </div>
</aside>